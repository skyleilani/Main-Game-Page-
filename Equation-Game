import React, { useState } from "react";
import randomColor from "randomcolor";
import copy from "clipboard-copy";
import "./styles.css";

let val1 = Math.floor(Math.random() * 100);
let val2 = Math.floor(Math.random() * 100);
let val3 = Math.floor(Math.random() * 100);

const App = (props) => {
  const [numQuestions, setNumQuestions] = useState(0);
  const [numCorrect, setNumCorrect] = useState(0);

  // backgroundColor:

  const [value1, setValue1] = useState(val1);
  const [value2, setValue2] = useState(val2);
  const [value3, setValue3] = useState(val3);
  const [proposedAnswer, setProposedAnswer] = useState(
    Math.floor(Math.random() * 3) + val1 + val2 + val3
  );
  const [correctAnswer, setCorrectAnswer] = useState(val1 + val2 + val3);

  {
    /*//randomize background color set
   const changeBackground = (e) => {
    let color = randomColor();
    this.setState({
      bgColor: color
    });
  }; 

  backgroundHandler = (e) => {
    copy(this.state.bgColor);
  };
*/
  }

  const randomEquation = () => {
    let ranValue1 = Math.floor(Math.random() * 100);
    let ranValue2 = Math.floor(Math.random() * 100);
    let ranValue3 = Math.floor(Math.random() * 100);

    setValue1(ranValue1);
    setValue2(ranValue2);
    setValue3(ranValue3);
    setProposedAnswer(
      Math.floor(Math.random() * 3) + ranValue1 + ranValue2 + ranValue3
    );
    setCorrectAnswer(ranValue1 + ranValue2 + ranValue3);
    setNumQuestions(numQuestions + 1);
  };

  const trueButton = () => {
    if (correctAnswer === proposedAnswer) {
      setNumCorrect(numCorrect + 1);
    }
  };

  const falseButton = () => {
    if (correctAnswer !== proposedAnswer) {
      setNumCorrect(numCorrect + 1);
    }
  };

  return (
    <div className="App">
      <header className="App-header"></header>
      <div className="game">
        <div className="equation">
          <p className="text">
            {value1} + {value2} + {value3} = {proposedAnswer}
          </p>
        </div>
        <button
          id="true"
          onClick={() => {
            randomEquation();
            trueButton();
            // backgroundHandler();
          }}
          // style={{ backgroundColor: this.state.bgColor }}
        >
          True
        </button>
        <button
          id="false"
          onClick={() => {
            randomEquation();
            falseButton();
          }}
        >
          False
        </button>
        <p className="text">
          Your Score: {numCorrect}/{numQuestions}
        </p>
      </div>
    </div>
  );
};

export default App;
